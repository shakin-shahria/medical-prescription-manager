<div class="charts-container">
  <div class="header">
    <h1>Prescription Analytics</h1>
    <button mat-raised-button color="primary" (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
      Back to Prescriptions
    </button>
  </div>

  <div *ngIf="isLoading" class="loading-container">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Loading analytics data...</p>
  </div>

  <div *ngIf="!isLoading" class="charts-grid">
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>Gender Distribution</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <canvas #genderChartCanvas width="400" height="300"></canvas>
      </mat-card-content>
    </mat-card>

    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>Age Group Distribution</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <canvas #ageChartCanvas width="400" height="300"></canvas>
      </mat-card-content>
    </mat-card>

    <mat-card class="chart-card full-width">
      <mat-card-header>
        <mat-card-title>Daily Trends</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <canvas #dailyChartCanvas width="800" height="300"></canvas>
      </mat-card-content>
    </mat-card>
  </div>

  <div *ngIf="!isLoading && prescriptions.length === 0" class="no-data">
    <mat-icon class="no-data-icon">analytics</mat-icon>
    <h3>No Data Available</h3>
    <p>Create some prescriptions to see analytics and trends.</p>
    <button mat-raised-button color="primary" (click)="goBack()">
      <mat-icon>add</mat-icon>
      Create Prescription
    </button>
  </div>
</div>
